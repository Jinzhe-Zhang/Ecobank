<!--
  Generated template for the Trans page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <span style="font-size:24px;">&nbsp;&nbsp;&nbsp;Transaction</span>
  </ion-navbar>
</ion-header>


<ion-content>

  <div style="background-color:#3578e9">
    <ion-list padding>

      <ion-item>
        <ion-label>Start Date</ion-label>
        <ion-datetime displayFormat="YYYYMMDD" [(ngModel)]="startdate"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>End Date</ion-label>
        <ion-datetime displayFormat="YYYYMMDD" [(ngModel)]="enddate"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>
          Card
        </ion-label>
        <ion-select [(ngModel)]="card">
          <ion-option selected = "true" value = "all">All</ion-option>
          <ion-option *ngFor="let card of cards" value = "{{card.card_num}}">{{star_format(card.card_num)}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
	  <div align="center">
        <button ion-button style="width:80px" color="light" (click)="query()">   <ion-icon name="search"></ion-icon>   </button>
	  </div>
      </ion-item>
    </ion-list>
  </div>

  <ion-label style="margin-left:5%;" *ngIf="history.length == 0">
    No transaction
  </ion-label>

  <ion-card *ngFor="let item of history">
    <ion-card-header>
       <h3>{{dayFormat(item.issue_date)}}</h3>
    </ion-card-header>
    <ion-card-content>
        <h3><b>Amount:</b> {{item.tran_amount}} RMB</h3>
        <h3><b>Merchant Name:</b> {{item.merchant_name}}</h3>
        <h3><b>Card:</b> {{star_format(item.tran_card_number)}}</h3>
    </ion-card-content>
  </ion-card>

</ion-content>
